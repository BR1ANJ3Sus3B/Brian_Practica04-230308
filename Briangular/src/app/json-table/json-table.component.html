<div class="table-container">
  <!-- Filtros de búsqueda y selección de página -->
  <div class="search-controls mb-6">
    <input 
      type="text" 
      [(ngModel)]="searchTerm"
      placeholder="Buscar..."
      class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50 text-gray-900 shadow-sm transition duration-200 ease-in-out"
    >
    <select 
      [(ngModel)]="itemsPerPage"
      class="px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 bg-gray-50 text-gray-900 shadow-sm transition duration-200 ease-in-out"
    >
      <option [value]="5">5 por página</option>
      <option [value]="10">10 por página</option>
      <option [value]="15">15 por página</option>
    </select>
  </div>

  <!-- Tabla de datos -->
  <div class="overflow-x-auto bg-white rounded-lg shadow-md border border-gray-200">
    <table class="elegant-table w-full table-auto">
      <thead class="bg-green-500 text-white">
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer" (click)="sort('START_DATE')">
            Fecha Inicio
            <span *ngIf="sortColumn === 'START_DATE'">{{ sortDirection === 'asc' ? '↑' : '↓' }}</span>
          </th>
          <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer" (click)="sort('END_DATE')">
            Fecha Fin
            <span *ngIf="sortColumn === 'END_DATE'">{{ sortDirection === 'asc' ? '↑' : '↓' }}</span>
          </th>
          <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer" (click)="sort('CATEGORY')">
            Categoría
            <span *ngIf="sortColumn === 'CATEGORY'">{{ sortDirection === 'asc' ? '↑' : '↓' }}</span>
          </th>
          <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer" (click)="sort('START')">
            Inicio
            <span *ngIf="sortColumn === 'START'">{{ sortDirection === 'asc' ? '↑' : '↓' }}</span>
          </th>
          <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer" (click)="sort('STOP')">
            Destino
            <span *ngIf="sortColumn === 'STOP'">{{ sortDirection === 'asc' ? '↑' : '↓' }}</span>
          </th>
          <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer" (click)="sort('MILES')">
            Millas
            <span *ngIf="sortColumn === 'MILES'">{{ sortDirection === 'asc' ? '↑' : '↓' }}</span>
          </th>
          <th class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider cursor-pointer" (click)="sort('PURPOSE')">
            Propósito
            <span *ngIf="sortColumn === 'PURPOSE'">{{ sortDirection === 'asc' ? '↑' : '↓' }}</span>
          </th>
        </tr>
      </thead>
      <tbody class="bg-gray-50 divide-y divide-gray-200">
        <tr *ngFor="let uber of paginatedUbers" class="hover:bg-green-100 transition duration-200 ease-in-out">
          <td class="px-6 py-4 text-sm text-gray-900">{{ uber.START_DATE }}</td>
          <td class="px-6 py-4 text-sm text-gray-900">{{ uber.END_DATE }}</td>
          <td class="px-6 py-4 text-sm text-gray-900">{{ uber.CATEGORY }}</td>
          <td class="px-6 py-4 text-sm text-gray-900">{{ uber.START }}</td>
          <td class="px-6 py-4 text-sm text-gray-900">{{ uber.STOP }}</td>
          <td class="px-6 py-4 text-sm text-gray-900">{{ uber.MILES }}</td>
          <td class="px-6 py-4 text-sm text-gray-900">{{ uber.PURPOSE || 'N/A' }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Paginación -->
  <div class="pagination mt-6 flex justify-center items-center gap-6">
    <span class="text-sm text-gray-700">
      Página {{ currentPage }} de {{ totalPages }}
    </span>
    <div class="flex gap-4">
      <button 
        (click)="previousPage()"
        [disabled]="currentPage === 1"
        class="px-4 py-2 border rounded-lg bg-blue-500 text-white hover:bg-blue-600 disabled:opacity-50 transition duration-200 ease-in-out"
      >
        Anterior
      </button>
      <button 
        (click)="nextPage()"
        [disabled]="currentPage === totalPages"
        class="px-4 py-2 border rounded-lg bg-blue-500 text-white hover:bg-blue-600 disabled:opacity-50 transition duration-200 ease-in-out"
      >
        Siguiente
      </button>
    </div>
  </div>
</div>
